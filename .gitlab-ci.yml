image: python:3.8

stages:
  - lint
  - test
  
include:
  - template: Code-Quality.gitlab-ci.yml

application-lint-black:
  stage: lint
  script:
    - pip install black
    - black --check src/

application-lint-pep8-naming:
  stage: lint
  script:
    - pip install flake8
    - pip install pep8-naming
    - flake8 src/
    
application-lint-pydocstyle:
  stage: lint
  script:
    - pip install pydocstyle
    - pydocstyle --convention google src/

application-lint-mypy:
  stage: lint
  script:
    - pip install mypy
    - mypy src/

code_quality:
  stage: lint
  artifacts:
    paths: [gl-code-quality-report.json]
